<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Unit Tests for Patient Summary</title>
    <script id="sap-ui-bootstrap"
        src="/sap/ui5/1/resources/sap-ui-core.js"
        data-sap-ui-libs="sap.ui.core, sap.m, ps.app.ui.lib"
        data-sap-ui-theme="sap_bluecrystal"
        data-sap-ui-compatVersion="edge"
        data-sap-ui-preload="async"
        data-sap-ui-resourceroots='{"ps.app.ui": "/ps/app/ui", "ps.specs": "/ps/specs"}'>
    </script>
    <script>
        jQuery.sap.require("sap.ui.qunit.qunit-css");
        jQuery.sap.require("sap.ui.thirdparty.qunit");
        jQuery.sap.require("sap.ui.qunit.qunit-junit");
        jQuery.sap.require("sap.ui.thirdparty.sinon");
        jQuery.sap.require("sap.ui.thirdparty.sinon-qunit");


        sinon.config.useFakeTimers = false;


        // Filter the code coverage by the tested library
        if (window.blanket) {
            window.blanket.options("sap-ui-cover-only", "ps/app/ui");
        }

        QUnit.config.autostart = false;


        sap.ui.getCore().attachInit(function() {
            // Add an option to implement skipped tests, as is available in newer QUnit
            // FUTURE: Remove with QUnit 1.16 / SAPUI5 1.30
            jQuery.sap.require("ps.specs.unit.testutils.qunit-skip");

            // Add our custom coverage module to enable filtering by the tested library.
            // FUTURE: Replace with standard jQuery.sap.require("sap.ui.qunit.qunit-coverage");
            jQuery.sap.require("ps.specs.unit.testutils.coverage");

            sap.ui.require([
                "ps/app/ui/utils/Utils",
                "ps/specs/unit/testutils/FakeI18nModel",
                // tests:
                "ps/specs/unit/extension/ExtensionLoader",
                "ps/specs/unit/extension/InteractionExtension",
                "ps/specs/unit/extension/TabExtensionBase",
                "ps/specs/unit/lib/Lane",
                "ps/specs/unit/lib/OverviewButton",
                "ps/specs/unit/lib/OverviewListItem",
                "ps/specs/unit/lib/Tile",
                "ps/specs/unit/lib/TilePopoverContent",
                "ps/specs/unit/lib/Timeline"
            ], function (Utils, FakeI18nModel) {
                var fakeI18nModel = new ps.specs.FakeI18nModel({
                    HPH_PAT_CONTENT_UNDATED: "no date",
                    HPH_PAT_CONTENT_DATELESS_SECTION_HEADER_TOOLTIP: "dateless stuff"
                });
                Utils.setResourceBundle(fakeI18nModel.getResourceBundle());
                QUnit.load();
                QUnit.start();
            });
        });
    </script>
</head>

<body>
    <div id="qunit"></div>
    <div id="qunit-fixture"></div>
</body>

</html>
